<!DOCTYPE html>
<html lang="es">
<head>
<meta charset="UTF-8" pageEncoding="UTF-8">
<title>Iniciar Sesion</title>

<link href="/Styles/ComponentesStyle.css" rel="stylesheet">
<link href="/Styles/SesionStyle.css" rel="stylesheet">
<script src="/Scripts/InputPasswordScript.js"></script>

<link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-QWTKZyjpPEjISv5WaRU9OFeRpok6YctnYmDr5pNlyT2bRjXh0JMhjY6hW+ALEwIH" crossorigin="anonymous">
<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js" integrity="sha384-YvpcrYf0tY3lHB60NNkmXc5s9fDVZLESaAA55NDzOxhy9GkcIdslK1eN7N6jIeHz" crossorigin="anonymous"></script>


</head>
<body>
	<!-- Inclusión de la barra de navegación -->

	<div th:insert="Components/NavBar :: NavBar"></div>
	<div class="Main-container">

		<!-- Contenedor de la imagen principal -->
		<div class="Img-container"></div>
		<!-- Inclusión del formulario de inicio de sesión -->
		<div class="Login-container">
			<div
				class="container-fluid bg-blur-white rounded-3 px-5 py-5 rounded shadow">
				<form th:action="@{/Login}" method="post"
					onsubmit="return ValidarFormularioSesion()">
					<h1 class="text-center mb-4 fs-2 fw-bold">Iniciar Sesión</h1>
					<p class="text-center text-muted mb-4">Accede a tu cuenta para
						gestionar tus clientes y recursos.</p>
					<!-- Campo de usuario -->
					<label for="usuario" class="form-label mb-1 fw-bold">Usuario</label>
					<div class="Container-Input mb-3">
						<img src="/SVG/icon-default.svg"> <input id="InputUsuario"
							type="search" placeholder="Ingresa tu usuario"
							 name="username" autocomplete="off">
					</div>
					<!-- Campo de contraseña -->
					<label for="InputPassword" class="form-label mb-1 fw-bold">Contraseña</label>
					<div class="Container-Input mb-1">
						<img src="/SVG/icon-key.svg"> <input id="InputPassword"
							type="password" placeholder="Ingresa tu contraseña"
							 name="password">
						<button class="ButtonTooglePasswordView" type="button"
							onclick="ToggleVisibilityPassword(this)"></button>
					</div>
					<!-- Mensaje de error en caso de credenciales incorrectas -->
					
					
					<p class="text-danger lead fs-14 m-0 py-0" th:if="${param.Error}" th:text="'Datos invalidos. Por favor intenta de nuevo.'"></p>
					<p class="text-danger lead fs-14 m-0 py-0" id="ErrorCampo"></p>
					
					


					<p class="text-muted mt-3 fs-12 m-0">
						¿Olvidaste tu contraseña? <a href="#">Recupérala aquí</a>
					</p>
					<p class="text-muted fs-12 m-0">
						¿No tienes una cuenta? <a th:href="@{/Register}">Regístrate
							aquí</a>
					</p>
					<!-- Botón para enviar el formulario -->
					<div class="d-flex align-items-center mt-2">
						<button type="submit"
							class="btn btn-success fs-5 fw-bold w-100 py-2 rounded-pill">Ingresar</button>
					</div>
					<!-- Contenedor con íconos de redes sociales -->
					<div class="container mt-3">
						<div class="d-flex justify-content-center gap-3">
							<img src="/SVG/icon-github.svg" alt="Logo 2" class="img-fluid"
								width="35" height="35"> <img src="/SVG/icon-spring.svg"
								alt="Logo 3" class="img-fluid" width="35" height="35">
						</div>
					</div>
				</form>
			</div>

		</div>
	</div>

	<script type="text/javascript">
		function ValidarFormularioSesion() {
			const dni = document.getElementById('InputUsuario').value.trim();
			const nombre = document.getElementById('InputPassword').value.trim();
			const spanError = document.getElementById('ErrorCampo');
			if (!dni || !nombre) {
				spanError.innerText = 'Complete todos los campos.';
				return false;
			}
			
			return true;

		}
	</script>

</body>
</html>
