<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">

<head>
<meta charset="UTF-8" pageEncoding="UTF-8">
<title>Insert title here</title>

<!-- Bootstrap -->
<link
	href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css"
	rel="stylesheet"
	integrity="sha384-QWTKZyjpPEjISv5WaRU9OFeRpok6YctnYmDr5pNlyT2bRjXh0JMhjY6hW+ALEwIH"
	crossorigin="anonymous">
<script
	src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js"
	integrity="sha384-YvpcrYf0tY3lHB60NNkmXc5s9fDVZLESaAA55NDzOxhy9GkcIdslK1eN7N6jIeHz"
	crossorigin="anonymous">
    </script>

<!-- Estilos -->
<link href="/Styles/MenuStyle.css" rel="stylesheet">
<link href="/Styles/InsertarClienteStyle.css" rel="stylesheet">
<link href="/Styles/ButtonStyle.css" rel="stylesheet">
<link href="/Styles/InputStyle.css" rel="stylesheet">

<!-- Scripts -->
<script src="/Scripts/InputScript.js"></script>
<script src="/Scripts/MenuScript.js"></script>
<script src="https://code.jquery.com/jquery-3.6.4.min.js"></script>
<script src="/Scripts/InsertarClienteScript.js"></script>
</head>

<body>
	<!-- Header -->
	<div th:insert="Components/Menu :: Menu-Header"
		class="Header-container"></div>

	<!-- Main Container -->
	<div class="Main-container">
		<!-- Sidebar -->
		<div th:insert="Components/Menu :: Menu-Sidebar" id="Menu-container"
			class="Menu-container"></div>

		<!-- Body -->
		<div class="Body-container overflow-y-auto">
			<form th:action="@{/Dashboard/Clientes/InsertarCliente}"
				 method="post" id="FormCliente">
				<h3 class="mb-3 lead fw-bold text-center fs-4">Realizar venta</h3>


				
				
					
					<div >
						<h6 class="border-bottom border-primary border-2 pb-2 mb-3 text-primary text-start fw-bold">Datos
							del cliente</h6>
							
							<div class = "d-flex gap-4">
							
								
								
								<input class="form-control" list="datalistOptions" data-bs-toggle="dropdown" aria-expanded="false"placeholder="Buscar Cliente...">
								
								<datalist id="datalistOptions">
								  <option  th:each= "cliente : ${ListaClientes}"  
									th:value= "${cliente.id}" 
									th:text= "${cliente.nombre}"></option>
								</datalist>
								
								
								
								
								<button class = "btn btn-outline-primary px-4 py-2 rounded-pill text-nowrap"> Nuevo Cliente</button>
								
							</div>

					</div>
					
					<div class = "d-flex justify-content-between align-items-center border-bottom border-primary border-2 mt-3 mb-3">
						<h6 class=" text-primary text-start fw-bold">Datos de la venta</h6>
						<div class = "d-flex gap-4">
							<span class = "text-primary">01/07/2025 hh:mm:ss</span>
							<span class = "text-primary">N° 00001-3434</span>
						</div>
						
					</div>
					
					<div class = "d-flex gap-3">
					
					<input class="form-control" list="datalistOptions" data-bs-toggle="dropdown" aria-expanded="false"placeholder="Buscar Producto...">
								
								<datalist id="datalistOptions">
								  <option  th:each= "cliente : ${ListaClientes}"  
									th:value= "${cliente.id}" 
									th:text= "${cliente.nombre}"></option>
								</datalist>
					<button class = "btn btn-outline-primary px-4 py-2 rounded-pill text-nowrap"> Agregar</button>
					
					</div>			
					
					<h6 class="border-bottom border-primary border-2 pb-2 mb-3 mt-4 text-primary text-start fw-bold">Detalle Venta</h6>
					
					<table class = "table">
						
						<thead>
							<tr>
								<th>N°</th>
								<th>Codigo</th>
								<th>Descricpion</th>
								<th>Cantidad</th>
								<th>Precio.Unitario</th>
								<th>Importe</th>
								<th>Eliminar</th>
							</tr>
						</thead>
						
						<tbody>
						
						</tbody>
						
						
					</table>
					
					<div class = "d-flex justify-content-end align-items-center gap-4">
						<h6>Importe total:</h6> 
						<span>$0.00</span>
					</div>

					
					

				<!-- Botones -->
				<div>
					<h5 class="border-bottom border-2 pb-2 mb-3 text-end"></h5>
					<div class="d-flex justify-content-end gap-3 mt-4">
						<a class="btn btn-outline-primary py-2 px-4 rounded-pill"
							type="button" th:href="@{/Dashboard/Clientes/ListaClientes}">Volver</a>
						<button type="submit"
							class="btn btn-primary py-2 px-5 rounded-pill">Guardar</button>
					</div>
				</div>
			</form>
		</div>
	</div>

	<!-- Toast -->
	<div
		class="toast-container position-fixed w-100 top-0 start-0 p-4 mt-3 d-flex align-items-center justify-content-center">
		<div id="validationToast" class="toast text-bg-danger border-0"
			role="alert" aria-live="assertive" aria-atomic="true">
			<div class="d-flex">
				<div class="toast-body fw-bold" id="toastMessage">
					<!-- Mensaje dinámico se mostrará aquí -->
				</div>
				<!--
				<button type="button" class="btn-close btn-close-white me-2 m-auto"
					data-bs-dismiss="toast" aria-label="Close"></button> -->
			</div>
		</div>
	</div>


	<script>
    document.getElementById('FormCliente').addEventListener('submit', function (event) {
        const dni = document.getElementById('InputDniCliente').value.trim();
        const nombre = document.getElementById('InputNombreCliente').value.trim();
        const apellido = document.getElementById('InputApellidoCliente').value.trim();
        const correo = document.getElementById('InputCorreoCliente').value.trim();
        const telefono = document.getElementById('InputTelefonoCliente').value.trim();
        const departamento = document.getElementById('departamentosSelect').value;
        const provincia = document.getElementById('provinciasSelect').value;
        const distrito = document.getElementById('distritosSelect').value;
        const direccion = document.getElementById('InputDireccionCliente').value.trim();

        function showToast(message) {
            const toastElement = document.getElementById('validationToast');
            const toastMessage = document.getElementById('toastMessage');
            toastMessage.textContent = message;
            toastElement.classList.add('show');

            setTimeout(() => {
                toastElement.classList.remove('show');
            }, 3000); // Eliminar el toast después de 3 segundos
        }

        if (!dni) {
            showToast('Por favor, ingrese el DNI del cliente.');
            event.preventDefault();
            return;
        }

        if (!nombre) {
            showToast('Por favor, ingrese el nombre del cliente.');
            event.preventDefault();
            return;
        }

        if (!apellido) {
            showToast('Por favor, ingrese el apellido del cliente.');
            event.preventDefault();
            return;
        }

        if (!correo) {
            showToast('Por favor, ingrese el correo del cliente.');
            event.preventDefault();
            return;
        }

        if (!telefono) {
            showToast('Por favor, ingrese el teléfono del cliente.');
            event.preventDefault();
            return;
        }

        if (!departamento) {
            showToast('Por favor, seleccione un departamento.');
            event.preventDefault();
            return;
        }

        if (!provincia) {
            showToast('Por favor, seleccione una provincia.');
            event.preventDefault();
            return;
        }

        if (!distrito) {
            showToast('Por favor, seleccione un distrito.');
            event.preventDefault();
            return;
        }

        if (!direccion) {
            showToast('Por favor, ingrese la dirección del cliente.');
            event.preventDefault();
            return;
        }
    });
</script>



	<script>
        setActiveByIndex(2);
    </script>
</body>

</html>
