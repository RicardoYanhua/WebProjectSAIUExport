<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">

<head>
<meta charset="UTF-8" pageEncoding="UTF-8">
<title>Editar Cliente</title>

<!-- Bootstrap CSS -->
<link
	href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css"
	rel="stylesheet"
	integrity="sha384-QWTKZyjpPEjISv5WaRU9OFeRpok6YctnYmDr5pNlyT2bRjXh0JMhjY6hW+ALEwIH"
	crossorigin="anonymous">

<!-- Bootstrap JS -->
<script
	src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js"
	integrity="sha384-YvpcrYf0tY3lHB60NNkmXc5s9fDVZLESaAA55NDzOxhy9GkcIdslK1eN7N6jIeHz"
	crossorigin="anonymous"></script>

<!-- Carga de estilos CSS personalizados -->
<link href="/Styles/MenuStyle.css" rel="stylesheet">
<link href="/Styles/WindowStyle.css" rel="stylesheet">
<link href="/Styles/InsertarClienteStyle.css" rel="stylesheet">
<link href="/Styles/ButtonStyle.css" rel="stylesheet">
<link href="/Styles/InputStyle.css" rel="stylesheet">

<!-- Carga de scripts JS personalizados -->
<script src="/Scripts/InputScript.js"></script>
<script src="/Scripts/MenuScript.js"></script>
<script src="/Scripts/ModalAndToastScript.js"></script>
<script src="/Scripts/InsertarClienteScript.js"></script>

<!-- Carga de JQuery desde CDN -->
<script src="https://code.jquery.com/jquery-3.6.4.min.js"></script>
</head>

<body>
	<!-- Cabecera de la página (incluye el menú) -->
	<div th:insert="Components/Menu :: Menu-Header"
		class="Header-container"></div>

	<!-- Contenedor principal -->
	<div class="Main-container">
		<!-- Barra lateral del menú -->
		<div th:insert="Components/Menu :: Menu-Sidebar" id="Menu-container"
			class="Menu-container"></div>

		<!-- Cuerpo principal -->
		<div class="Body-container overflow-y-auto">
			<!-- Formulario para editar los datos del cliente -->
			<div class="container mb-3">

				<!-- Sección de datos del cliente -->
				<div class="BoxShadowContainer">
					<h5
						class="border-bottom border-primary pb-3 mb-4 bg-dark text-white py-3 text-center fw-bold rounded-top">
						Datos del Cliente</h5>
					<!-- Contenedor principal con cinco columnas responsivas -->
					<div class="container">
						<div
							class="row row-cols-1 row-cols-sm-2 row-cols-md-3 row-cols-lg-5 g-3">
							<!-- Campo DNI -->
							<div class="col">
								<strong class="d-block">DNI:</strong> <span
									th:text="${DatosCliente.dni}"></span>
							</div>

							<!-- Nombres -->
							<div class="col">
								<strong class="d-block">Nombres:</strong> <span
									th:text="${DatosCliente.nombre}"></span>
							</div>

							<!-- Apellidos -->
							<div class="col">
								<strong class="d-block">Apellidos:</strong> <span
									th:text="${DatosCliente.apellido}"></span>
							</div>

							<!-- Correo -->
							<div class="col">
								<strong class="d-block">Correo:</strong> <span
									th:text="${DatosCliente.correo}"></span>
							</div>

							<!-- Teléfono -->
							<div class="col">
								<strong class="d-block">Teléfono:</strong> <span
									th:text="${DatosCliente.telefono}"></span>
							</div>

							<!-- ID Departamento -->
							<div class="col">
								<strong class="d-block">ID Departamento:</strong> <span
									th:text="${DatosCliente.id_departamento}"></span>
							</div>

							<!-- ID Provincia -->
							<div class="col">
								<strong class="d-block">ID Provincia:</strong> <span
									th:text="${DatosCliente.id_provincia}"></span>
							</div>

							<!-- ID Distrito -->
							<div class="col">
								<strong class="d-block">ID Distrito:</strong> <span
									th:text="${DatosCliente.id_distrito}"></span>
							</div>

							<!-- Dirección -->
							<div class="col">
								<strong class="d-block">Dirección:</strong> <span
									th:text="${DatosCliente.direccion}"></span>
							</div>

							<!-- Fecha de Registro -->
							<div class="col">
								<strong class="d-block">Fecha de Registro:</strong> <span
									th:text="${DatosCliente.fecha_registro}"></span>
							</div>
						</div>
					</div>
				</div>


			</div>

			<div class="container">
				<!-- Sección de datos del cliente -->
				<div class="BoxShadowContainer p-0">
					<h5
						class="p-3 bg-dark text-white text-center fw-bold rounded-top mb-0">
						Lista de Compras</h5>



					<table class="table table-primary m-0">
						<thead>
							<tr>
								<th>N°</th>
								<th>Codigo</th>
								<th>Cliente</th>
								<th>Total Importe</th>
								<th>Fecha</th>

								<th>Acciones</th>
							</tr>
						</thead>

						<tbody>
							<!-- Iteración sobre la lista de productos para mostrar sus datos -->
							<tr th:each="compra, iterStat : ${ListaCompras}">
								<td th:text="${iterStat.index + 1}">1</td>
								<!-- Número de índice de cada producto -->
								<td th:text="${compra.id}"></td>
								<!-- ID del producto -->
								<td th:text="${compra.id_cliente.nombre}"></td>
								<!-- Nombre del producto -->
								<td th:text="${compra.total}"></td>
								<!-- Descripción del producto -->
								<td th:text="${compra.fecha_compra}"></td>
								<!-- Precio del producto con formato -->
								<td>
									<button type="button" class="btn-icon icon-delete"
										data-bs-toggle="modal" data-bs-target="#MessageConfirmModal"
										th:data-id="${compra.id}" data-title="Confirmar eliminación"
										data-body="¿Estás seguro de que deseas eliminar esta compra ?"
										data-url="/Compras/EliminarCompra"></button> <!-- Modal para confirmar eliminación -->
									<div
										th:insert="Components/ModalAndToast :: Modal-ConfirmMessage"></div>


								</td>
							</tr>
						</tbody>
					</table>

			


				</div>
			</div>
			
			<div class = "d-flex justify-content-center">
				<a type = "button" class = "btn btn-secondary rounded-pill px-4 py-2 mt-5" th:href= "@{/Clientes/ListaClientes}">
				Volver a la lista de Clientes
				</a>
			</div>
			
			
		</div>

	</div>

	<!-- Mensajes de error o éxito -->
	<div th:insert="Components/ModalAndToast :: Toast-MessageDanger"></div>




	<script>
		setActiveByIndex(0);
	</script>

</body>

</html>

